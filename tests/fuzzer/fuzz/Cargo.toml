[package]
name = "fuzzer-fuzz"
version = "0.0.0"
publish = false
edition = "2021"

[package.metadata]
cargo-fuzz = true

[dependencies.web3]
version = "=0.19.0"
default-features = false
features = ["http-rustls-tls", "test", "signing"]

[dependencies]
evm_interpreter = { path = "../../../evm_interpreter" }
oracle_provider = { path = "../../../oracle_provider" }
forward_system = { path = "../../../forward_system", features = ["no_print", "for_tests"] }
basic_system = { path = "../../../basic_system" }
callable_oracles = { path = "../../../callable_oracles" }
modexp = { path = "../../../supporting_crates/modexp" }
basic_bootloader = { path = "../../../basic_bootloader" }
system_hooks = { path = "../../../system_hooks" }
zk_ee = { path = "../../../zk_ee" }
alloy = { version = "1", features = ["full", "eip712"]}
fuzzer = { path = "../../fuzzer"}
rig = { path = "../../rig" }
crypto = { path = "../../../crypto"}
fuzz_precompiles_forward = { path = "./wrappers/fuzz_precompiles_forward" }
fuzz_precompiles_proving = { path = "./wrappers/fuzz_precompiles_proving" }
basic_system_proving = { path = "./wrappers/basic_system_proving" }
libfuzzer-sys = "0.4"
hex = "*"
sha2 = "0.10.8"
arbitrary = { version = "1.1.3", features = ["derive"] }
revm = { version = "27" }
revm-precompile = { version = "28.1.1" }
once_cell = "1.20.3"
rand = "0.8.5"
ruint = { version = "=1.16", default-features = false }
secp256k1 = { version = "0.30.0", features = ["recovery", "global-context"] }
bytes = "1.10.0"
ark-ff = "0.4"
ark-ec = "0.4"
ark-bn254 = "0.4"
p256 = { version = "0.13", features = ["ecdsa"] }
c-kzg = { version = "2.1.5" }
# zerocopy 0.8.29 introduced a compilation issue, remove this
# when the compilation issue is resolved
zerocopy = { version = "=0.8.28" }

[[bin]]
name = "ripemd160"
path = "fuzz_targets/system_functions/ripemd160.rs"
test = false
doc = false
bench = false

[[bin]]
name = "keccak256"
path = "fuzz_targets/system_functions/keccak256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "sha256"
path = "fuzz_targets/system_functions/sha256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "modexp"
path = "fuzz_targets/system_functions/modexp.rs"
test = false
doc = false
bench = false

[[bin]]
name = "modexp_delegation"
path = "fuzz_targets/system_functions/modexp_delegation.rs"
test = false
doc = false
bench = false

[[bin]]
name = "p256_verify"
path = "fuzz_targets/system_functions/p256_verify.rs"
test = false
doc = false
bench = false

[[bin]]
name = "ecrecover"
path = "fuzz_targets/system_functions/ecrecover.rs"
test = false
doc = false
bench = false

[[bin]]
name = "bn254_ecadd"
path = "fuzz_targets/system_functions/bn254_ecadd.rs"
test = false
doc = false
bench = false

[[bin]]
name = "bn254_ecmul"
path = "fuzz_targets/system_functions/bn254_ecmul.rs"
test = false
doc = false
bench = false

[[bin]]
name = "bn254_pairing_check"
path = "fuzz_targets/system_functions/bn254_pairing_check.rs"
test = false
doc = false
bench = false

[[bin]]
name = "blake2s"
path = "fuzz_targets/crypto/blake2s.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_sha256"
path = "fuzz_targets/precompiles/precompiles_sha256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_id"
path = "fuzz_targets/precompiles/precompiles_id.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_ripemd160"
path = "fuzz_targets/precompiles/precompiles_ripemd160.rs"
test = false
doc = false
bench = false

[[bin]]
name = "forward_oracle_run_simple_once"
path = "fuzz_targets/forward_oracle/forward_oracle_run_simple_once.rs"
test = false
doc = false
bench = false

# [[bin]]
# name = "bootloader_process_transaction"
# path = "fuzz_targets/bootloader/bootloader_process_transaction.rs"
# test = false
# doc = false
# bench = false

# [[bin]]
# name = "bootloader_tx_try_from_slice"
# path = "fuzz_targets/bootloader/bootloader_tx_try_from_slice.rs"
# test = false
# doc = false
# bench = false

# [[bin]]
# name = "bootloader_tx_parser"
# path = "fuzz_targets/bootloader/bootloader_tx_parser.rs"
# test = false
# doc = false
# bench = false

[[bin]]
name = "bootloader_run_single_interaction"
path = "fuzz_targets/bootloader/bootloader_run_single_interaction.rs"
test = false
doc = false
bench = false

[[bin]]
name = "bootloader_supported_ees"
path = "fuzz_targets/bootloader/bootloader_supported_ees.rs"
test = false
doc = false
bench = false

[[bin]]
name = "bootloader_execute_frame"
path = "fuzz_targets/bootloader/bootloader_execute_frame.rs"
test = false
doc = false
bench = false

# [[bin]]
# name = "bootloader_tx_validate"
# path = "fuzz_targets/bootloader/bootloader_tx_validate.rs"
# test = false
# doc = false
# bench = false

# [[bin]]
# name = "bootloader_tx_calculate_signed_hash"
# path = "fuzz_targets/bootloader/bootloader_tx_calculate_signed_hash.rs"
# test = false
# doc = false
# bench = false

[[bin]]
name = "precompiles_ecrecover"
path = "fuzz_targets/precompiles/precompiles_ecrecover.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_modexp"
path = "fuzz_targets/precompiles/precompiles_modexp.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_ecadd"
path = "fuzz_targets/precompiles/precompiles_ecadd.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_ecmul"
path = "fuzz_targets/precompiles/precompiles_ecmul.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_ecpairing"
path = "fuzz_targets/precompiles/precompiles_ecpairing.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_modexplen"
path = "fuzz_targets/precompiles/precompiles_modexp_len.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_p256"
path = "fuzz_targets/precompiles/precompiles_p256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_kzg_point_eval"
path = "fuzz_targets/precompiles/precompiles_kzg_point_eval.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_ecadd"
path = "fuzz_targets/precompiles_diff/ecadd.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_sha256"
path = "fuzz_targets/precompiles_diff/sha256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_keccak256"
path = "fuzz_targets/precompiles_diff/sha256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_ripemd160"
path = "fuzz_targets/precompiles_diff/sha256.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_ecmul"
path = "fuzz_targets/precompiles_diff/ecmul.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_modexp"
path = "fuzz_targets/precompiles_diff/modexp.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_p256_verify"
path = "fuzz_targets/precompiles_diff/p256_verify.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_ecrecover"
path = "fuzz_targets/precompiles_diff/ecrecover.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_pairing"
path = "fuzz_targets/precompiles_diff/pairing.rs"
test = false
doc = false
bench = false

[[bin]]
name = "precompiles_diff_kzg"
path = "fuzz_targets/precompiles_diff/kzg.rs"
test = false
doc = false
bench = false

[[bin]]
name = "kzg_blobs"
path = "fuzz_targets/kzg_blobs/kzg_blobs.rs"
test = false
doc = false
bench = false
